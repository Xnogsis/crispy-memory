<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>404 Not Found</title>
</head>
<body>
<center><h1>404 Not Found</h1></center>
<hr><center>nginx/1.18.0</center>

<script>
  // Prevent running on the real page if already there
  if (!window.location.pathname.includes('real-site.html')) {

    // If user has already entered the correct password before, load real-site.html automatically
    if (localStorage.getItem('access_granted') === 'true') {
      loadRealSite();
    } else {
      // Otherwise, listen for the secret key sequence
      let data = null;

      document.addEventListener('keydown', async (e) => {
        let key = e.key;
        if (key.length !== 1) return;
        key = key.toLowerCase();

        if (key === 'r') {
          data = '';
          return;
        } else if (data !== null) {
          data += key;
        }

        if (data && data.length === 5) {
          const p = data;
          data = null;

          if (p === '099ae') {
            localStorage.setItem('access_granted', 'true');
            loadRealSite();
          } else {
            location.reload();
          }
        }
      });
    }

    async function loadRealSite() {
      try {
        const res = await fetch('real-site.html');
        if (res.ok) {
          const html = await res.text();
          document.open();
          document.write(html);
          document.close();
        } else {
          alert('real-site.html not found.');
        }
      } catch (err) {
        alert('Error loading real-site.html.');
      }
    }
  }
</script>

<!-- a padding to disable MSIE and Chrome friendly error page -->
<!-- a padding to disable MSIE and Chrome friendly error page -->
<!-- a padding to disable MSIE and Chrome friendly error page -->
<!-- a padding to disable MSIE and Chrome friendly error page -->
<!-- a padding to disable MSIE and Chrome friendly error page -->
<!-- a padding to disable MSIE and Chrome friendly error page -->
</body>
</html>
